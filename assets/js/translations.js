// ==================== TRANSLATIONS OBJECT ====================

const translations = {
    es: {
        // Navigation
        nav: {
            home: "Inicio",
            about: "Acerca de",
            skills: "Habilidades",
            experience: "Experiencia",
            services: "Servicios",
            projects: "Proyectos",
            contact: "Contacto",
            getInTouch: "Contáctame"
        },
        
        // Hero Section
        hero: {
            title: "Construyendo Soluciones",
            titleHighlight: "en la Nube",
            subtitle: "Cloud Architect & Senior Software Engineer con 6+ años de experiencia en desarrollo empresarial, transformación digital y soluciones AWS.",
            contactMe: "Contáctame",
            downloadCV: "Descargar CV",
            scrollDown: "Desplázate hacia abajo",
            yearsExperience: "Años de Experiencia",
            projectsCompleted: "Proyectos Completados",
            companies: "Empresas"
        },
        
        // About Section
        about: {
            title: "Acerca de Mí",
            intro: "Soy un Cloud Architect y Senior Software Engineer apasionado con un historial comprobado de entregar soluciones a escala empresarial. Mi experiencia abarca desarrollo de backend, arquitectura en la nube y transformación digital.",
            current: "Actualmente en ",
            currentRole: " como Ingeniero de Software Digital, he liderado proyectos críticos incluida la migración Banamex-Citibank y arquitecturado microservicios para grandes instituciones financieras.",
            highlights: {
                h1: "Experto en Java, Spring Boot y Microservicios",
                h2: "AWS Certificado - Arquitectura en la Nube y Soluciones",
                h3: "Capacidades Full-stack con React & Angular",
                h4: "Experiencia en sectores Financiero y Empresarial"
            }
        },
        
        // Skills Section
        skills: {
            title: "Habilidades Técnicas",
            backend: "Desarrollo Backend",
            cloud: "AWS & Nube",
            frontend: "Desarrollo Frontend"
        },
        
        // Experience Section
        experience: {
            title: "Experiencia Profesional",
            role1: "Ingeniero de Software Digital Sr. Analyst",
            role2: "Ingeniero de Software Digital Sr. Analyst",
            role3: "Ingeniero de Proyecto Senior",
            role4: "Cloud Architect",
            role5: "Ingeniero de Software",
            company1: "Citibank",
            company2: "Banamex",
            company3: "HSBC",
            company4: "Pakal Technological Solutions",
            company5: "BBVA",
            desc1: "Liderando iniciativas de transformación digital e implementando soluciones en la nube escalables.",
            desc2: "Gestioné proyectos críticos de migración e implementé arquitectura de microservicios.",
            desc3: "Diseñé soluciones empresariales y lideré equipos técnicos en proyectos complejos.",
            desc4: "Diseñé e implementé infraestructura AWS para múltiples clientes empresariales.",
            desc5: "Desarrollé microservicios y APIs RESTful para aplicaciones bancarias."
        },
        
        // Services Section
        services: {
            title: "Servicios",
            backend: "Desarrollo Backend",
            backendDesc: "Soluciones de backend de grado empresarial usando Java, Spring Boot y arquitectura de microservicios. Diseño de bases de datos y desarrollo de API RESTful.",
            cloud: "Arquitectura en la Nube",
            cloudDesc: "Soluciones AWS incluyendo diseño de infraestructura, migración a la nube y optimización. Gestión de EC2, S3, Lambda, RDS e IAM.",
            fullstack: "Soluciones Full-Stack",
            fullstackDesc: "Aplicaciones web completas que combinan frontends React/Angular con sistemas backend robustos e infraestructura en la nube."
        },
        
        // Projects Section
        projects: {
            title: "Proyectos Destacados",
            modern: "Sitios Web Modernos",
            modernDesc: "Aplicaciones web responsivas y modernas construidas con las últimas tecnologías.",
            distributed: "Sistemas Distribuidos",
            distributedDesc: "Arquitecturas de microservicios escalables para aplicaciones empresariales.",
            cloud: "Soluciones en la Nube",
            cloudDesc: "Soluciones impulsadas por AWS con rendimiento óptimo de extremo a extremo.",
            startup: "MVP para Startup",
            startupDesc: "Desarrollo e implementación rápida de productos mínimos viables.",
            viewProject: "Ver Proyecto"
        },
        
        // Testimonials Section
        testimonials: {
            title: "Testimonios de Clientes",
            testimonial1: "Altamente profesional y entrega exactamente lo acordado. Comunicación excepcional durante todo el proyecto.",
            testimonial2: "Superó nuestras expectativas con experiencia técnica y atención al detalle. ¡Un verdadero profesional!",
            testimonial3: "Servicio y soporte excepcional. Altamente recomendado para cualquier necesidad de desarrollo empresarial.",
            author1: "Horacio de la Garza",
            role1: "Director de Marketing",
            author2: "Martha Cantú Vota",
            role2: "CEO, Hidro-Electrik",
            author3: "Dajo Consultants",
            role3: "CEO"
        },
        
        // Contact Section
        contact: {
            title: "Trabajemos Juntos",
            subtitle: "¿Tienes un proyecto en mente? Hablemos sobre cómo puedo ayudarte a lograr tus objetivos.",
            emailLabel: "Correo Electrónico",
            phoneLabel: "Teléfono",
            locationLabel: "Ubicación",
            nameInput: "Tu Nombre",
            emailInput: "Tu Correo",
            messageInput: "Tu Mensaje",
            sendMessage: "Enviar Mensaje",
            locationValue: "Ciudad de México, México"
        },
        
        // Footer
        footer: {
            rights: "© 2024 Emmanuel Sandoval. Todos los derechos reservados."
        }
    },
    
    en: {
        // Navigation
        nav: {
            home: "Home",
            about: "About",
            skills: "Skills",
            experience: "Experience",
            services: "Services",
            projects: "Projects",
            contact: "Contact",
            getInTouch: "Get in Touch"
        },
        
        // Hero Section
        hero: {
            title: "Building Cloud",
            titleHighlight: "Solutions",
            subtitle: "Cloud Architect & Senior Software Engineer with 6+ years of expertise in enterprise development, digital transformation, and AWS solutions.",
            contactMe: "Contact me",
            downloadCV: "Download CV",
            scrollDown: "Scroll down",
            yearsExperience: "Years Experience",
            projectsCompleted: "Projects Completed",
            companies: "Companies"
        },
        
        // About Section
        about: {
            title: "About Me",
            intro: "I'm a passionate Cloud Architect and Senior Software Engineer with a proven track record of delivering enterprise-scale solutions. My expertise spans backend development, cloud architecture, and digital transformation.",
            current: "Currently at ",
            currentRole: " as a Digital Software Engineer, I've led critical projects including the Banamex-Citibank migration and architected microservices for major financial institutions.",
            highlights: {
                h1: "Expert in Java, Spring Boot, and Microservices",
                h2: "AWS Certified - Cloud Architecture & Solutions",
                h3: "Full-stack capabilities with React & Angular",
                h4: "Financial & Enterprise sector expertise"
            }
        },
        
        // Skills Section
        skills: {
            title: "Technical Skills",
            backend: "Backend Development",
            cloud: "AWS & Cloud",
            frontend: "Frontend Development"
        },
        
        // Experience Section
        experience: {
            title: "Professional Experience",
            role1: "Digital Software Engineer Sr Analyst",
            role2: "Digital Software Engineer Sr Analyst",
            role3: "Senior Project Engineer",
            role4: "Cloud Architect",
            role5: "Software Engineer",
            company1: "Citibank",
            company2: "Banamex",
            company3: "HSBC",
            company4: "Pakal Technological Solutions",
            company5: "BBVA",
            desc1: "Leading digital transformation initiatives and architecting scalable cloud solutions.",
            desc2: "Managed critical migration project and implemented microservices architecture.",
            desc3: "Architected enterprise solutions and led technical teams on complex projects.",
            desc4: "Designed and implemented AWS infrastructure for multiple enterprise clients.",
            desc5: "Developed microservices and RESTful APIs for banking applications."
        },
        
        // Services Section
        services: {
            title: "Services",
            backend: "Backend Development",
            backendDesc: "Enterprise-grade backend solutions using Java, Spring Boot, and microservices architecture. Database design and RESTful API development.",
            cloud: "Cloud Architecture",
            cloudDesc: "AWS solutions including infrastructure design, cloud migration, and optimization. EC2, S3, Lambda, RDS, and IAM management.",
            fullstack: "Full-Stack Solutions",
            fullstackDesc: "Complete web applications combining React/Angular frontends with robust backend systems and cloud infrastructure."
        },
        
        // Projects Section
        projects: {
            title: "Featured Projects",
            modern: "Modern Websites",
            modernDesc: "Responsive and modern web applications built with latest technologies.",
            distributed: "Distributed Systems",
            distributedDesc: "Scalable microservices architectures for enterprise applications.",
            cloud: "Cloud Solutions",
            cloudDesc: "End-to-end AWS-powered solutions with optimal performance.",
            startup: "Startup MVP",
            startupDesc: "Rapid development and deployment of minimum viable products.",
            viewProject: "View Project"
        },
        
        // Testimonials Section
        testimonials: {
            title: "Client Testimonials",
            testimonial1: "Highly professional and delivers exactly what was agreed upon. Exceptional communication throughout the project.",
            testimonial2: "Exceeded our expectations with technical expertise and attention to detail. A true professional!",
            testimonial3: "Outstanding service and support. Highly recommended for any enterprise development needs.",
            author1: "Horacio de la Garza",
            role1: "Marketing Director",
            author2: "Martha Cantú Vota",
            role2: "CEO, Hidro-Electrik",
            author3: "Dajo Consultants",
            role3: "CEO"
        },
        
        // Contact Section
        contact: {
            title: "Let's Work Together",
            subtitle: "Have a project in mind? Let's discuss how I can help you achieve your goals.",
            emailLabel: "Email",
            phoneLabel: "Phone",
            locationLabel: "Location",
            nameInput: "Your Name",
            emailInput: "Your Email",
            messageInput: "Your Message",
            sendMessage: "Send Message",
            locationValue: "México City, México"
        },
        
        // Footer
        footer: {
            rights: "© 2024 Emmanuel Sandoval. All rights reserved."
        }
    }
};

// ==================== LANGUAGE MANAGER ====================

class LanguageManager {
    constructor() {
        this.currentLanguage = this.getStoredLanguage() || 'es';
        this.init();
    }

    init() {
        this.updatePageLanguage();
        this.setupLanguageSwitcher();
    }

    getStoredLanguage() {
        return localStorage.getItem('selectedLanguage');
    }

    setStoredLanguage(lang) {
        localStorage.setItem('selectedLanguage', lang);
    }

    switchLanguage(lang) {
        if (lang === 'es' || lang === 'en') {
            this.currentLanguage = lang;
            this.setStoredLanguage(lang);
            this.updatePageLanguage();
            this.updateLanguageSwitcher();
        }
    }

    updatePageLanguage() {
        const t = translations[this.currentLanguage];

        // Navigation
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const keys = key.split('.');
            let translation = t;
            
            keys.forEach(k => {
                translation = translation[k];
            });
            
            if (translation) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.placeholder = translation;
                } else {
                    element.textContent = translation;
                }
            }
        });

        // Atributos
        document.querySelectorAll('[data-i18n-attr]').forEach(element => {
            const attrData = element.getAttribute('data-i18n-attr');
            const [key, attr] = attrData.split('|');
            const keys = key.split('.');
            let translation = t;
            
            keys.forEach(k => {
                translation = translation[k];
            });
            
            if (translation) {
                element.setAttribute(attr, translation);
            }
        });

        // HTML
        document.querySelectorAll('[data-i18n-html]').forEach(element => {
            const key = element.getAttribute('data-i18n-html');
            const keys = key.split('.');
            let translation = t;
            
            keys.forEach(k => {
                translation = translation[k];
            });
            
            if (translation) {
                element.innerHTML = translation;
            }
        });

        // Guardar idioma actual en HTML
        document.documentElement.lang = this.currentLanguage;
    }

    setupLanguageSwitcher() {
        const langBtns = document.querySelectorAll('.lang-btn');
        langBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const lang = btn.getAttribute('data-lang');
                this.switchLanguage(lang);
            });
        });
    }

    updateLanguageSwitcher() {
        const langBtns = document.querySelectorAll('.lang-btn');
        langBtns.forEach(btn => {
            const lang = btn.getAttribute('data-lang');
            if (lang === this.currentLanguage) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        });
    }

    t(key) {
        const keys = key.split('.');
        let translation = translations[this.currentLanguage];
        
        keys.forEach(k => {
            translation = translation[k];
        });
        
        return translation || key;
    }
}

// ==================== INITIALIZE LANGUAGE MANAGER ====================

let languageManager;
document.addEventListener('DOMContentLoaded', function() {
    languageManager = new LanguageManager();
});

